{% extends 'layout.html' %}
{% block head %}
<title>Task Master</title>
{% endblock %}
{% block body %}
<div class="container mx-auto p-4">
    <h1 class="text-4xl font-bold mb-6 text-center">Task Master</h1>
    <div class="overflow-x-auto">
        <table class="table-auto w-full mb-6">
            <thead>
                <tr>
                    <th class="px-4 py-2 border">Task</th>
                    <th class="px-4 py-2 border">Added</th>
                    <th class="px-4 py-2 border">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for task in tasks %}
                <tr>
                    <td class="px-4 py-2 border">{{ task.content }}</td>
                    <td class="px-4 py-2 border">{{ task.date_created.date() }}</td>
                    <td class="px-4 py-2 border text-center">
                        <a href="/delete/{{task.id}}" class="text-blue-500 hover:underline">Delete</a>
                        <br>
                        <a href="/update/{{task.id}}" class="text-blue-500 hover:underline">Update</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <form action="/" method="post" class="w-full max-w-sm mx-auto">
        <div class="flex items-center border-b border-b-2 border-blue-500 py-2">
            <input type="text" name="content" id="content" class="appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none" placeholder="Add a new task">
            <input type="submit" value="Add Task" class="flex-shrink-0 bg-blue-500 hover:bg-blue-700 border-blue-500 hover:border-blue-700 text-sm border-4 text-white py-1 px-2 rounded">
        </div>
    </form>
</div>
<script src="{{ url_for('static', filename='js/script.js') }}"></script>
{% endblock %}